Implements DFU

Only has 32KiB free for file upload when running from RAM.

Better to run from flash.
